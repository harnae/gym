<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>会員登録</title>

    <link href="../../css/signup.css" rel="stylesheet" />


</head>

<body>
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <form class="signIn" id="signInId" action="/signup" method="post" onsubmit="return signUpCheck()">
    <div class="wrapper">
        <div class="title">
            <h1 style="font-size: 21px;">会員登録</h1>
        </div>
        <div class="id">
            <input id="username" name="username" type="text" placeholder="IDを入力してください">
            <div id="idError" class="error"></div>
        </div>
        <div class="name">
            <input id="name" name="name" type="text" placeholder="名前を入力してください">
            <div id="nameError" class="error"></div>
        </div>
        <div class="password">
            <input id="password" name="password" type="password" placeholder="暗証番号を入力してください">
            <div id="passwordError" class="error"></div>
        </div>
        <div class="passwordCheck">
            <input id="passwordCheck" type="password" placeholder="暗証番号を入力してください">
            <div id="passwordCheckError" class="error"></div>
        </div>
        <div class="phone">
            <input id="phone" name="phone" type="text" minlength="12" placeholder="080-0000-0000">
            <div id="phoneError" class="error"></div>
        </div>

        <div class="area">
            <input id="addr" name="addr" type="text" placeholder="住所を入力してください">
            <div id="areaError" class="error"></div>
        </div>
        <div class="gender">
            <input id="gender_man" type="radio" name="gender" value="man">男
            <input id="gender_woman" type="radio" name="gender" value="woman">女
            <div id="genderError" class="error"></div>
        </div>
        <div class="line">
            <hr>
        </div>
        <div class="signUp">
            <input type="submit" id="signUpButton" value="登録"/>
        </div>
    </div>
</form>
</body>
<script>
function signUpCheck() {

let username = document.getElementById("username").value
let name = document.getElementById("name").value
let password = document.getElementById("password").value
let passwordCheck = document.getElementById("passwordCheck").value
let addr = document.getElementById("addr").value
let phone = document.getElementById("phone").value
let gender_man = document.getElementById("gender_man").checked
let gender_woman = document.getElementById("gender_woman").checked
let check = true;

console.log(password);
console.log(passwordCheck);


// ID
if (username === "") {
    document.getElementById("idError").innerHTML = "IDを入力してください"
    check = false
} else {
    document.getElementById("idError").innerHTML = ""
}


// 名前
if (name === "") {
    document.getElementById("nameError").innerHTML = "名前を入力してください"
    check = false
} else {
    document.getElementById("nameError").innerHTML = ""
}


// 暗証番号
if (password !== passwordCheck) {
    document.getElementById("passwordError").innerHTML = ""
    document.getElementById("passwordCheckError").innerHTML = "同じ暗証番号を入力してください"
    check = false
} else {
    document.getElementById("passwordError").innerHTML = ""
    document.getElementById("passwordCheckError").innerHTML = ""
}

if (password === "") {
    document.getElementById("passwordError").innerHTML = "暗証番号を入力してください"
    check = false
} else {
    document.getElementById("passwordError").innerHTML = ""
}
if (passwordCheck === "") {
    document.getElementById("passwordCheckError").innerHTML = "もう一度暗証番号を入力してください"
    check = false
} else {
    document.getElementById("passwordCheckError").innerHTML = ""
}

//電話番号
if (phone === "") {
    document.getElementById("phoneError").innerHTML = "電話番号を入力してください"
    check = false
} else {
    document.getElementById("phoneError").innerHTML = ""
}

//電話番号
if (addr === "") {
    document.getElementById("areaError").innerHTML = "住所を入力してください"
    check = false
} else {
    document.getElementById("areaError").innerHTML = ""
}

// 性別
if (!gender_man && !gender_woman) {
    document.getElementById("genderError").innerHTML = "性別を選んで下さい"
    check = false
} else {
    document.getElementById("genderError").innerHTML = ""
}


if (check) {
    document.getElementById("idError").innerHTML = ""
    document.getElementById("nameError").innerHTML = ""
    document.getElementById("passwordError").innerHTML = ""
    document.getElementById("passwordCheckError").innerHTML = ""
    document.getElementById("phoneError").innerHTML = ""
    document.getElementById("areaError").innerHTML = ""
    document.getElementById("genderError").innerHTML = ""
    if(window.confirm("よろしいですか？")){
        return true;
    }
    else{
        window.alert("キャンセルしました");
        return false;
    }
}
else{
    return false;
}



}


</script>
</html>